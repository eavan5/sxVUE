{"version":3,"file":"vue.js","sources":["../src/compiler/index.js","../src/observer/array.js","../src/observer/index.js","../src/util.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; //匹配标签名字  //ps:里面的\\\\ 是在字符串定义正则的时候需要转义\n//  ?: 匹配不捕获\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;  // <my:xx>  \nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g  //匹配html里面的模板的\n\nfunction parseHTML(html) {\n  function createASTElement(tagName, attrs) {\n    return {\n      tag: tagName, //标签名\n      type: 1, // 元素类型\n      children: [], //子列表\n      attrs, //属性\n      parent: null //父节点\n    }\n\n  }\n  let root,\n    currentParent,\n    stack = []\n\n  //标签是否符合预期\n  function start(tagName, attrs) {\n    let element = createASTElement(tagName, attrs)\n    if (!root) {\n      root = element\n    }\n    currentParent = element // 当前解析的标签 保存起来\n    stack.push(element) //将生成的AST元素放到栈里面\n    console.log(tagName, attrs, '---开始标签---');\n  }\n  function end(tagName) { //在结尾标签处,保存父子关系\n    let element = stack.pop()\n    console.log(tagName, '---结束标签---');\n    currentParent = stack[stack.length - 1] // 因为出栈了 所以当前标签是之前的一个标签\n    if (currentParent) { // 当闭合的时候可以知道这个标签的父节点是谁\n      element.parent = currentParent\n      currentParent.children.push(element)\n    }\n  }\n\n  function chars(text) {\n    text = text.replace(/\\s/g, '') //去除空行\n    if (text) {\n      currentParent.children.push({\n        type: 3,\n        text\n      })\n    }\n    console.log(text, '---文本---');\n  }\n\n\n  while (html) { //只要html不为空 则一直解析\n    let textEnd = html.indexOf('<')\n    if (textEnd == 0) {\n      //是标签\n      const startTagMatch = parseStartTag() //<xxx>开始标签匹配的结果\n      if (startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs)\n        continue\n      }\n      const endTagMatch = html.match(endTag) //</ xxx>结束标签匹配\n      if (endTagMatch) {\n        advance(endTagMatch[0].length)\n        end(endTagMatch[1]) //将结束标签传入\n        continue\n      }\n    }\n    let text\n    if (textEnd > 0) { //是文本\n      text = html.substring(0, textEnd)\n    }\n\n    if (text) {\n      advance(text.length)\n      chars(text)\n    }\n    // break\n\n  }\n  //匹配到之后将html更新\n  function advance(n) {\n    html = html.substring(n)\n  }\n  function parseStartTag() {\n    const start = html.match(startTagOpen)\n    // console.log(start);\n    if (start) {\n      const match = {\n        tagName: start[1],\n        attrs: []\n      }\n      advance(start[0].length) //删除开始标签\n      //如果直接是闭合标签 说明没有属性\n      let end, attr\n      //不是结尾标签,并且能匹配到属性\n      while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\n        match.attrs.push({ name: attr[1], value: attr[3] | attr[4] | attr[5] })\n        advance(attr[0].length)\n        continue;\n      }\n      //去除 结尾的>\n      if (end) {\n        // debugger\n        advance(end[0].length)\n      }\n      return match\n    }\n  }\n  return root\n}\nexport function compileToFunctions(template) {\n  //html模板 => render函数\n  //1.将html代码转换成AST语法树(可以用AST数去描述语言本身) \n  //ps:虚拟dom(虚拟dom是用对象来描述节点的)\n  let ast = parseHTML(template)\n  console.log(ast);\n\n\n  //2.通过这棵树 重新生成代码\n}","// 切片编程\n\n\nlet oldArrayProtoMethods = Array.prototype;\n\n//继承一下\nexport let arrayMethods = Object.create(oldArrayProtoMethods)\n\nlet methods = [\n  'push',\n  'pop',\n  'unshift',\n  'shift',\n  'reverse',\n  'splice',\n  'sort'\n]\nmethods.forEach(method => {\n  arrayMethods[method] = function (...args) {  //这里的this就是observer的data\n    console.log('数组方法被调用了');\n    const result = oldArrayProtoMethods[method].apply(this, arguments)\n    let inserted\n    let ob = this.__ob__\n    switch (method) {\n      case 'push':\n      case 'unshift': //这两个内容都是添加,添加的内容可能是对象类型,应该再次进行劫持\n        inserted = args\n        break;\n      case 'splice': //vue.$set原理\n        inserted = args.slice(2) // 第3个就是新增的数据\n      default:\n        break;\n    }\n    //如果当前的inserted有值 则继续检测\n    if (inserted) ob.serveArray(inserted)\n    return result\n  }\n})\n\n\n\n","import { arrayMethods } from './array'\nclass Observer {\n  constructor(data) {\n    //使用defineProperty重新定义属性\n    //判断一个对象是否被观察到,则看这个属性有没有__ob__属性\n    Object.defineProperty(data, '__ob__', {\n      enumerable: false, //不能被枚举,不能被循环出来\n      configurable: false, // 不能修改赋值\n      value: this\n    })\n    if (Array.isArray(data)) {\n      Object.setPrototypeOf(data, arrayMethods)\n      //观测数组中的对象类型,对象变化也需要做一些事\n      this.observeArray(data)\n    } else {\n      //使用defineProperty 重新定义属性\n      this.walk(data)\n    }\n  }\n  observeArray(data) {\n    data.forEach(item => {\n      observe(item)\n    })\n  }\n  walk(data) {\n    let keys = Object.keys(data)\n    keys.forEach(key => {\n      defineReactive(data, key, data[key])\n    })\n  }\n}\n\nfunction defineReactive(data, key, value) {\n  observe(value) // 递归下去\n  Object.defineProperty(data, key, {\n    get() {\n      console.log('获取值');\n      return value\n    },\n    set(newValue) {\n      console.log('设置值');\n      if (newValue === value) return\n      observe(newValue)  //如果用户设置的值还是一个对象,继续观测\n      value = newValue\n    }\n  })\n\n}\n\nexport function observe(data) {\n  // Object.defineProperty实际上也是可以对数组进行监控的，但是由于监控数组会去递归数组，会造成性能问题，所以改用数组原型重写的方法\n\n\n  // 如果不是对象直接return\n  if (typeof data !== 'object' || data === null) return\n  //如果已经被监听,则return\n  if (data.__ob__) return\n  return new Observer(data)\n}","export function proxy(vm, data, key) {\n  Object.defineProperty(vm, key, {\n    get() {\n      return vm[data][key]\n    },\n    set(newValue) {\n      vm[data][key] = newValue\n    }\n  })\n}","\nimport { observe } from './observer/index'\nimport { proxy } from './util'\nexport function initState(vm) {\n  const options = vm.$options;\n  if (options.props) {\n    initProps(vm)\n  }\n  if (options.methods) {\n    initMethods(vm)\n  }\n  if (options.data) {\n    initData(vm)\n  }\n  if (options.computed) {\n    initComputed(vm)\n  }\n  if (options.watch) {\n    initWatch(vm)\n  }\n}\n\nfunction initProps() {\n\n}\n\nfunction initMethods() {\n\n}\n\n\nfunction initData(vm) {\n  let data = vm.$options.data\n  // 判断data是否是函数,兼容函数或者对象\n  vm._data = data = typeof data === 'function' ? data.call(vm) : data\n  //数据的劫持方案  对象Object.defineProperty\n  //数组 单独处理的\n\n  //当我从vm上取属性时,帮我吧属性上的取值代理到vm._data上\n  for (const key in data) {\n    if (Object.hasOwnProperty.call(data, key)) {\n      proxy(vm, \"_data\", key)\n    }\n  }\n\n  observe(data)\n}\n\nfunction initComputed() {\n\n}\n\nfunction initWatch() {\n\n}","import { compileToFunctions } from './compiler/index';\nimport { initState } from './state'\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this;\n    vm.$options = options;\n\n    //初始化状态\n    initState(vm)\n\n    //初始化事件...\n\n    //如果有el属性 则表示需要渲染模板\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el)\n    }\n  }\n  Vue.prototype.$mount = function (el) {\n    //挂载操作\n    const vm = this\n    const options = vm.$options\n    el = document.querySelector(el)\n    if (!options.render) {\n      //没有render方法,则将template转换成render方法\n      let template = options.template\n      if (!template && el) {\n        template = el.outerHTML\n      }\n      // 将模板编译成render函数\n      const render = compileToFunctions(template)\n      options.render = render\n    }\n    //有render方法\n\n  }\n}","import { initMixin } from './init'\nfunction Vue(options) {\n  this._init(options) // 初始化操作\n}\n\n//Vue初始化方法\ninitMixin(Vue)\nexport default Vue"],"names":["ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","createASTElement","tagName","attrs","tag","type","children","parent","root","currentParent","stack","start","element","push","console","log","end","pop","length","chars","text","replace","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","match","advance","substring","n","attr","name","value","compileToFunctions","template","ast","oldArrayProtoMethods","Array","prototype","arrayMethods","Object","create","methods","forEach","method","args","result","apply","arguments","inserted","ob","__ob__","slice","serveArray","Observer","data","defineProperty","enumerable","configurable","isArray","setPrototypeOf","observeArray","walk","item","observe","keys","key","defineReactive","get","set","newValue","proxy","vm","initState","options","$options","props","initData","computed","watch","_data","call","hasOwnProperty","initMixin","Vue","_init","el","$mount","document","querySelector","render","outerHTML"],"mappings":"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"}